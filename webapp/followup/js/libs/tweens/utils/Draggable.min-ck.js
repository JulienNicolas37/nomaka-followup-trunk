/*!
 * VERSION: 0.8.1
 * DATE: 2013-09-02
 * UPDATES AND DOCS AT: http://www.greensock.com
 *
 * Requires TweenLite and CSSPlugin (or TweenMax which contains both of those). ThrowPropsPlugin is required for momentum-based continuation of movement after the mouse/touch is released (ThrowPropsPlugin is a membership benefit of Club GreenSock - http://www.greensock.com/club/).
 *
 * @license Copyright (c) 2008-2013, GreenSock. All rights reserved.
 * This work is subject to the terms at http://www.greensock.com/terms_of_use.html or for
 * Club GreenSock members, the software agreement that was issued with your membership.
 * 
 * @author: Jack Doyle, jack@greensock.com
 */(window._gsQueue||(window._gsQueue=[])).push(function(){"use strict";window._gsDefine("utils.Draggable",["events.EventDispatcher","TweenLite"],function(e,t){var n,r,i,s={css:{}},o={css:{}},u={css:{}},a={css:{}},f={},l=document,c=l.documentElement||{},h=[],p=function(){return!1},d=180/Math.PI,v=Math.PI/180,m=l.all&&!l.addEventListener,g=[],y={},b=0,w="ontouchstart"in c&&"orientation"in window,E=function(e,t){return e=e||window.event,f.pageX=e.clientX+l.body.scrollLeft+c.scrollLeft,f.pageY=e.clientY+l.body.scrollTop+c.scrollTop,t&&(e.returnValue=!1),f},S=function(e){return e?("string"==typeof e&&(e=t.selector(e)),e.length&&e!==window&&e[0]&&e[0].style&&!e.nodeType&&(e=e[0]),e===window||e.nodeType&&e.style?e:null):e},x=function(e,t){var r,i,s,o=e.style;if(void 0===o[t]){for(s=["O","Moz","ms","Ms","Webkit"],i=5,r=t.charAt(0).toUpperCase()+t.substr(1);--i>-1&&void 0===o[s[i]+r];);if(0>i)return"";n=3===i?"ms":s[i],t=n+r}return t},T=function(e,t,n){var r=e.style;void 0===r[t]&&(t=x(e,t)),null==n?r.removeProperty?r.removeProperty(t.replace(/([A-Z])/g,"-$1").toLowerCase()):r.removeAttribute(t):void 0!==r[t]&&(r[t]=n)},N=l.defaultView?l.defaultView.getComputedStyle:p,C=function(e,t,n){var r,i=(e._gsTransform||{})[t];return i||0===i?i:(e.style[t]?i=e.style[t]:(r=N(e))?(e=r.getPropertyValue(t.replace(/([A-Z])/g,"-$1").toLowerCase()),i=e||r.length?e:r[t]):e.currentStyle&&(i=e.currentStyle[t]),n?i:parseFloat(i)||0)},k=function(e,t,n){e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent&&e.attachEvent("on"+t,n)},L=function(e,t,n){e.removeEventListener?e.removeEventListener(t,n):e.detachEvent&&e.detachEvent("on"+t,n)},A=function(e,t,n){var r=e.vars,i=r[n],s=e._listeners[t];"function"==typeof i&&i.apply(r[n+"Scope"]||e,r[n+"Params"]||h),s&&e.dispatchEvent(t)},O={x:0,y:0},M=function(e,t){var n,r,i,s,o,u,a=null!=e.pageYOffset?e.pageYOffset:null!=l.scrollTop?l.scrollTop:l.body.scrollTop||c.scrollTop||0,f=null!=e.pageXOffset?e.pageXOffset:null!=l.scrollLeft?l.scrollLeft:l.body.scrollLeft||c.scrollLeft||0;if(e===window)return{top:a,left:f,width:c.clientWidth||e.innerWidth||l.body.clientWidth||0,height:e.innerHeight-20<c.clientHeight?c.clientHeight:e.innerHeight||l.body.clientHeight||0};if(t){for(i=e.offsetWidth,s=e.offsetHeight,o=e.offsetTop,u=e.offsetLeft;e=e.offsetParent;)o+=e.offsetTop,u+=e.offsetLeft;return{top:o,left:u,width:i,height:s}}return n=e.getBoundingClientRect(),r=e._gsTransform||O,{top:n.top-r.y+a,left:n.left-r.x+f,width:n.right-n.left,height:n.bottom-n.top}},_=l.createElement("div"),D=x(_,"transformOrigin").replace(/([A-Z])/g,"-$1").toLowerCase(),P=x(_,"transform"),H=""!==x(_,"perspective"),B=P&&H,j=function(e){var t=M(e,!0),n=N(e),r=D&&n?n.getPropertyValue(D):"50% 50%",i=r.split(" "),s=-1!==r.indexOf("left")?"0%":-1!==r.indexOf("right")?"100%":i[0],o=-1!==r.indexOf("top")?"0%":-1!==r.indexOf("bottom")?"100%":i[1];return("center"===o||null==o)&&(o="50%"),("center"===s||isNaN(parseFloat(s)))&&(s="50%"),t.left+=-1!==s.indexOf("%")?t.width*parseFloat(s)/100:parseFloat(s),t.top+=-1!==o.indexOf("%")?t.height*parseFloat(o)/100:parseFloat(o),t},F=function(e){return e.length&&e[0]&&(e[0].nodeType&&e[0].style&&!e.nodeType||e[0].length&&e[0][0])?!0:!1},I=function(e){var t,n,r,i=[],s=e.length;for(t=0;s>t;t++)if(n=e[t],F(n))for(r=n.length,r=0;n.length>r;r++)i.push(n[r]);else i.push(n);return i},q=function(e,t,n,r,i,s){var o,u,a,f={};if(t)if(i&&t instanceof Array)for(f.end=o=[],a=t.length,u=0;a>u;u++)o[u]=t[u]*i;else f.end="function"==typeof t?function(n){return t.call(e,n)}:t;return(n||0===n)&&(f.max=n),(r||0===r)&&(f.min=r),s&&(f.velocity=0),f},R=function(){var e,t=l.createElement("div"),n=l.createElement("div"),r=n.style,s=l.body||_;return r.display="inline-block",r.position="relative",t.style.cssText=n.innerHTML="width:90px; height:40px; padding:10px; overflow:auto; visibility: hidden",t.appendChild(n),s.appendChild(t),i=n.offsetHeight+18>t.scrollHeight,r.width="100%",B||(r.paddingRight="500px",e=t.scrollLeft=t.scrollWidth-t.clientWidth,r.left="-90px",e=e!==t.scrollLeft),s.removeChild(t),e}(),U=function(e){e=S(e);var n,r,s,o,u=l.createElement("div"),a=u.style,f=e.firstChild,c=0,h=0,p=e.scrollTop,d=e.scrollLeft,v=0,g=0,y=0;this.scrollTop=function(e,t){return arguments.length?(this.top(-e,t),void 0):-this.top()},this.scrollLeft=function(e,t){return arguments.length?(this.left(-e,t),void 0):-this.left()},this.left=function(n,r){if(!arguments.length)return-(e.scrollLeft+h);var i=e.scrollLeft-d,s=h;return(i>2||-2>i)&&!r?(d=e.scrollLeft,t.killTweensOf(this,{left:1,scrollLeft:1}),this.left(-d),void 0):(n=-n,0>n?(h=0|n-.5,n=0):n>g?(h=0|n-g,n=g):h=0,(h||s)&&(B?a[P]="translate3d("+ -h+"px,"+ -c+"px,0px)":a.left=-h+"px",R&&h+v>=0&&(a.paddingRight=h+v+"px")),e.scrollLeft=0|n,d=e.scrollLeft,void 0)},this.top=function(n,r){if(!arguments.length)return-(e.scrollTop+c);var i=e.scrollTop-p,s=c;return(i>2||-2>i)&&!r?(p=e.scrollTop,t.killTweensOf(this,{top:1,scrollTop:1}),this.top(-p),void 0):(n=-n,0>n?(c=0|n-.5,n=0):n>y?(c=0|n-y,n=y):c=0,(c||s)&&(B?a[P]="translate3d("+ -h+"px,"+ -c+"px,0px)":a.top=-c+"px"),e.scrollTop=0|n,p=e.scrollTop,void 0)},this.maxScrollTop=function(){return y},this.maxScrollLeft=function(){return g},this.disable=function(){for(f=u.firstChild;f;)o=f.nextSibling,e.appendChild(f),f=o;e.removeChild(u)},this.enable=function(){if(f=e.firstChild,f!==u){for(;f;)o=f.nextSibling,u.appendChild(f),f=o;e.appendChild(u),this.calibrate()}},this.calibrate=function(t){var o,f,l=e.clientWidth===n;(!l||e.clientHeight!==r||u.offsetHeight!==s||t)&&((c||h)&&(o=this.left(),f=this.top(),this.left(-e.scrollLeft),this.top(-e.scrollTop)),(!l||t)&&(a.display="block",a.width="auto",a.paddingRight="0px",v=Math.max(0,e.scrollWidth-e.clientWidth),v&&(v+=C(e,"paddingLeft")+(i?C(e,"paddingRight"):0))),a.display="inline-block",a.position="relative",a.overflow="visible",a.width="100%",a.paddingRight=v+"px",i&&(a.paddingBottom=C(e,"paddingBottom",!0)),m&&(a.zoom="1"),n=e.clientWidth,r=e.clientHeight,g=e.scrollWidth-n,y=e.scrollHeight-r,s=u.offsetHeight,(o||f)&&(this.left(o),this.top(f)))},this.content=u,this.element=e,this.enable()},z=function(n,i){e.call(this,n),n=S(n),r||(r=(window.GreenSockGlobals||window).com.greensock.plugins.ThrowPropsPlugin),this.vars=i=i||{},this.target=n,this.x=this.y=0;var f,c,x,N,O,_,D,P,H,B,F,I,R,W,X,V,$,J,K=(i.type||(m?"top,left":"x,y")).toLowerCase(),Q=-1!==K.indexOf("x")||-1!==K.indexOf("y"),G=-1!==K.indexOf("rotation"),Z=Q?"x":"left",et=Q?"y":"top",tt=-1!==K.indexOf("x")||-1!==K.indexOf("left")||"scroll"===K,nt=-1!==K.indexOf("y")||-1!==K.indexOf("top")||"scroll"===K,rt=this,it=S(i.trigger||n),st={},ot=parseFloat(i.edgeTolerance)||1-(void 0===i.edgeResistance?1:parseFloat(i.edgeResistance)),ut=function(){if($){var e=rt.x,r=rt.y,i=1e-6;i>e&&e>-i&&(e=0),i>r&&r>-i&&(r=0),rt.endX=e,rt.endY=r,G?(R.rotation="+="+(V-e)*d,t.set(n,I),V=e):f?(nt&&f.top(r),tt&&f.left(e)):Q?(nt&&(R.y=r),tt&&(R.x=e),t.set(n,I)):(nt&&(n.style.top=r+"px"),tt&&(n.style.left=e+"px")),D&&A(rt,"drag","onDrag")}$=!1},at=function(e){Q?(rt.y=n._gsTransform.y,rt.x=n._gsTransform.x):G?rt.x=n._gsTransform.rotation:f?(rt.y=f.top(),rt.x=f.left()):(rt.y=parseInt(n.style.top,10)||0,rt.x=parseInt(n.style.left,10)||0),i.onThrowUpdate&&!e&&i.onThrowUpdate.apply(i.onThrowUpdateScope||rt,i.onThrowUpdateParams||h)},ft=function(){if(_=!1,f)f.calibrate(),rt.minX=H=-f.maxScrollLeft(),rt.minY=F=-f.maxScrollTop(),rt.maxX=P=rt.maxY=B=0,_=!0;else if(i.bounds&&!G){var e=M(n),t=S(i.bounds),r=t?M(t):i.bounds;rt.minX=H=(Q?0:C(n,"left"))+r.left-e.left,rt.minY=F=(Q?0:C(n,"top"))+r.top-e.top,rt.maxX=P=H+(r.width-e.width),rt.maxY=B=F+(r.height-e.height),H>P&&(rt.minX=P,rt.maxX=P=H,H=rt.minX),F>B&&(rt.minY=B,rt.maxY=B=F,F=rt.minY),_=!0}},lt=function(e,t){var s,o,u;e&&r?(e===!0&&(s=i.snap||{},o=s instanceof Array||"function"==typeof s,e={resistance:(i.resistance||1e3)/(G?100:1)},G?e.rotation=q(rt,o?s:s.rotation,P,H,i.useRadians?null:v,t):(tt&&(e[Z]=q(rt,o?s:s.x||s.left||s.scrollLeft,P,H,f?-1:null,t)),nt&&(e[et]=q(rt,o?s:s.y||s.top||s.scrollTop,B,F,f?-1:null,t)))),rt.tween=u=r.to(f||n,{throwProps:e,ease:i.ease||Power3.easeOut,onComplete:i.onThrowComplete,onCompleteScope:i.onThrowCompleteScope||rt,onUpdate:i.fastMode?i.onThrowUpdate:at,onUpdateScope:i.onThrowUpdateScope||rt},i.maxDuration||2,i.minDuration||.5,void 0===i.overshootTolerance?ot+.2:i.overshootTolerance),i.fastMode||(u.seek(u.duration()),at(!0),rt.endX=rt.x,rt.endY=rt.y,u.play(0))):_&&rt.applyBounds()},ct=function(e){m?e=E(e,!0):"A"===(e.target.nodeName+"").toUpperCase()||e.target.onclick||e.preventDefault(),rt.isDragging||(e.changedTouches?(e=W=e.changedTouches[0],X=e.identifier):W=null,g.push(ut),rt.tween&&rt.tween.kill(),rt.tween=null,t.killTweensOf(f||n,st),x=rt.pointerY=e.pageY,c=rt.pointerX=e.pageX,G?(V=j(n),N=V.left,O=V.top,V=Math.atan2(O-x,c-N)):(rt.applyBounds(),f?(O=f.top(),N=f.left()):(O=C(n,et),N=C(n,Z))),G||f||i.zIndexBoost===!1||(n.style.zIndex=z.zIndex++),W?(k(it,"touchend",pt),k(it,"touchmove",ht)):(k(l,"mousemove",ht),k(l,"mouseup",pt)),rt.isDragging=!0,D=!!i.onDrag||!!rt._listeners.drag,$=!1,_&&ot&&(N>P?N=P+(N-P)/ot:H>N&&(N=H-(H-N)/ot),O>B?O=B+(O-B)/ot:F>O&&(O=F-(F-O)/ot)),G||T(it,"cursor",i.cursor||"move"),A(rt,"dragstart","onDragStart"))},ht=function(e){m?e=E(e,!0):e.preventDefault();var t,n,r,i,s,o=e.changedTouches;if(o&&(e=o[0],e!==W&&e.identifier!==X)){for(s=o.length;--s>-1&&(e=o[s]).identifier!==X;);if(0>s)return}rt.pointerX=e.pageX,rt.pointerY=e.pageY,$=!0,G?rt.x=Math.atan2(O-e.pageY,e.pageX-N):(n=e.pageY-x,t=e.pageX-c,r=t>2||-2>t?N+t:N,i=n>2||-2>n?O+n:O,_&&(r>P?r=P+(r-P)*ot:H>r&&(r=H+(r-H)*ot),i>B?i=B+(i-B)*ot:F>i&&(i=F+(i-F)*ot)),rt.x!==r||rt.y!==i?(rt.x=r,rt.y=i):$=!1)},pt=function(e){m&&(e=E(e,!1));var t,n,r,s=e.changedTouches,o=e;if(s&&(e=s[0],e!==W&&e.identifier!==X)){for(r=s.length;--r>-1&&(e=s[r]).identifier!==X;);if(0>r)return}for(rt.pointerX=e.pageX,rt.pointerY=e.pageY,$=!1,r=g.length;--r>-1;)g[r]===ut&&g.splice(r,1);return n=e.pageY-x,t=e.pageX-c,rt.isDragging=!1,W?(L(it,"touchend",pt),L(it,"touchmove",ht)):(L(l,"mouseup",pt),L(l,"mousemove",ht)),lt(i.throwProps),G||T(it,"cursor",i.cursor||"move"),2>t&&t>-2&&2>n&&n>-2?A(rt,"click","onClick"):m||o.preventDefault(),A(rt,"dragend","onDragEnd"),!0};this.applyBounds=function(){var e,t;return at(!0),ft(),i.snap&&i.throwProps&&r?(lt(i.throwProps,!0),this.tween.seek(this.tween.duration()),this.tween=null):_&&(e=rt.x,t=rt.y,_&&(e>P?e=P:H>e&&(e=H),t>B?t=B:F>t&&(t=F)),(rt.x!==e||rt.y!==t)&&(rt.x=rt.endX=e,rt.y=rt.endY=t,$=!0,ut())),rt},this.update=function(e){return e?rt.applyBounds():at(!0),rt},this.enable=function(){return k(it,"mousedown",ct),k(it,"touchstart",ct),G||T(it,"cursor",i.cursor||"move"),T(it,"userSelect","none"),T(it,"touchCallout","none"),r&&r.track(f||n,Q?"x,y":G?"rotation":"top,left"),f&&f.enable(),n._gsDragID="d"+b++,y[n._gsDragID]=this,rt},this.disable=function(){var e,i=this.isDragging;for(G||T(it,"cursor",null),t.killTweensOf(f||n,st),T(it,"userSelect","text"),T(it,"touchCallout","default"),L(it,"mousedown",ct),L(it,"touchstart",ct),L(l,"mouseup",pt),L(it,"touchend",pt),L(l,"mousemove",ht),L(it,"touchmove",ht),r&&r.untrack(f||n,Q?"x,y":G?"rotation":"top,left"),f&&f.disable(),e=g.length;--e>-1;)g[e]===ut&&g.splice(e,1);return delete y[n._gsDragID],this.isDragging=!1,i&&A(this,"dragend","onDragEnd"),rt},-1!==K.indexOf("scroll")&&(f=this.scrollProxy=new U(n),n.style.overflowY=nt&&!w?"auto":"hidden",n.style.overflowX=tt&&!w?"auto":"hidden",n=f.content),it.ondragstart=it.onselectstart=p,i.force3D!==!1&&t.set(n,{force3D:!0}),G?st.rotation=1:(tt&&(st.x=st.left=1),nt&&(st.y=st.top=1)),G?(I=a,R=I.css):Q&&(I=tt&&nt?s:tt?o:u,R=I.css),J=z.get(this.target),J&&J.disable(),this.isDragging=!1,this.enable()},W=z.prototype=new e;return W.constructor=z,W.pointerX=W.pointerY=0,z.version="0.8.1",z.zIndex=1e3,t.ticker.addEventListener("tick",function(){for(var e=g.length;--e>-1;)g[e]()}),k(l,"touchcancel",function(){}),z.create=function(e,n){"string"==typeof e&&(e=t.selector(e));for(var r=F(e)?I(e):[e],i=r.length;--i>-1;)r[i]=new z(r[i],n);return r},z.get=function(e){return y[(S(e)||{})._gsDragID]},z},!0)}),window._gsDefine&&window._gsQueue.pop()();