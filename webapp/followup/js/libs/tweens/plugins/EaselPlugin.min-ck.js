/*!
 * VERSION: beta 0.1.5
 * DATE: 2013-08-29
 * UPDATES AND DOCS AT: http://www.greensock.com
 *
 * @license Copyright (c) 2008-2013, GreenSock. All rights reserved.
 * This work is subject to the terms at http://www.greensock.com/terms_of_use.html or for
 * Club GreenSock members, the software agreement that was issued with your membership.
 * 
 * @author: Jack Doyle, jack@greensock.com
 **/(window._gsQueue||(window._gsQueue=[])).push(function(){"use strict";var e,t,n=/(\d|\.)+/g,r=["redMultiplier","greenMultiplier","blueMultiplier","alphaMultiplier","redOffset","greenOffset","blueOffset","alphaOffset"],i={aqua:[0,255,255],lime:[0,255,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,255],navy:[0,0,128],white:[255,255,255],fuchsia:[255,0,255],olive:[128,128,0],yellow:[255,255,0],orange:[255,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[255,0,0],pink:[255,192,203],cyan:[0,255,255],transparent:[255,255,255,0]},s=function(e){return""===e||null==e||"none"===e?i.transparent:i[e]?i[e]:"number"==typeof e?[e>>16,255&e>>8,255&e]:"#"===e.charAt(0)?(4===e.length&&(e="#"+e.charAt(1)+e.charAt(1)+e.charAt(2)+e.charAt(2)+e.charAt(3)+e.charAt(3)),e=parseInt(e.substr(1),16),[e>>16,255&e>>8,255&e]):e.match(n)||i.transparent},o=function(t,n,i){if(!e&&(e=window.ColorFilter||window.createjs.ColorFilter,!e))throw"EaselPlugin error: The EaselJS ColorFilter JavaScript file wasn't loaded.";for(var o,u,a,f,l,c=t.filters||[],h=c.length;--h>-1;)if(c[h]instanceof e){u=c[h];break}if(u||(u=new e,c.push(u),t.filters=c),a=u.clone(),null!=n.tint)o=s(n.tint),f=null!=n.tintAmount?Number(n.tintAmount):1,a.redOffset=Number(o[0])*f,a.greenOffset=Number(o[1])*f,a.blueOffset=Number(o[2])*f,a.redMultiplier=a.greenMultiplier=a.blueMultiplier=1-f;else for(l in n)"exposure"!==l&&"brightness"!==l&&(a[l]=Number(n[l]));for(null!=n.exposure?(a.redOffset=a.greenOffset=a.blueOffset=255*(Number(n.exposure)-1),a.redMultiplier=a.greenMultiplier=a.blueMultiplier=1):null!=n.brightness&&(f=Number(n.brightness)-1,a.redOffset=a.greenOffset=a.blueOffset=f>0?255*f:0,a.redMultiplier=a.greenMultiplier=a.blueMultiplier=1-Math.abs(f)),h=8;--h>-1;)l=r[h],u[l]!==a[l]&&i._addTween(u,l,u[l],a[l],"easel_colorFilter");if(i._overwriteProps.push("easel_colorFilter"),!t.cacheID)throw"EaselPlugin warning: for filters to display in EaselJS, you must call the object's cache() method first. "+t},u=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],a=.212671,f=.71516,l=.072169,c=function(e,t){if(e instanceof Array&&t instanceof Array){var n,r,i=[],s=0,o=0;for(n=0;4>n;n++){for(r=0;5>r;r++)o=4===r?e[s+4]:0,i[s+r]=e[s]*t[r]+e[s+1]*t[r+5]+e[s+2]*t[r+10]+e[s+3]*t[r+15]+o;s+=5}return i}return t},h=function(e,t){if(isNaN(t))return e;var n=1-t,r=n*a,i=n*f,s=n*l;return c([r+t,i,s,0,0,r,i+t,s,0,0,r,i,s+t,0,0,0,0,0,1,0],e)},p=function(e,t,n){isNaN(n)&&(n=1);var r=s(t),i=r[0]/255,o=r[1]/255,u=r[2]/255,h=1-n;return c([h+n*i*a,n*i*f,n*i*l,0,0,n*o*a,h+n*o*f,n*o*l,0,0,n*u*a,n*u*f,h+n*u*l,0,0,0,0,0,1,0],e)},d=function(e,t){if(isNaN(t))return e;t*=Math.PI/180;var n=Math.cos(t),r=Math.sin(t);return c([a+n*(1-a)+r*-a,f+n*-f+r*-f,l+n*-l+r*(1-l),0,0,a+n*-a+.143*r,f+n*(1-f)+.14*r,l+n*-l+r*-0.283,0,0,a+n*-a+r*-(1-a),f+n*-f+r*f,l+n*(1-l)+r*l,0,0,0,0,0,1,0,0,0,0,0,1],e)},v=function(e,t){return isNaN(t)?e:(t+=.01,c([t,0,0,0,128*(1-t),0,t,0,0,128*(1-t),0,0,t,0,128*(1-t),0,0,0,1,0],e))},m=function(e,n,r){if(!t&&(t=window.ColorMatrixFilter||window.createjs.ColorMatrixFilter,!t))throw"EaselPlugin error: The EaselJS ColorMatrixFilter JavaScript file wasn't loaded.";for(var i,s,o,a=e.filters||[],f=a.length;--f>-1;)if(a[f]instanceof t){o=a[f];break}for(o||(o=new t(u.slice()),a.push(o),e.filters=a),s=o.matrix,i=u.slice(),null!=n.colorize&&(i=p(i,n.colorize,Number(n.colorizeAmount))),null!=n.contrast&&(i=v(i,Number(n.contrast))),null!=n.hue&&(i=d(i,Number(n.hue))),null!=n.saturation&&(i=h(i,Number(n.saturation))),f=i.length;--f>-1;)i[f]!==s[f]&&r._addTween(s,f,s[f],i[f],"easel_colorMatrixFilter");if(r._overwriteProps.push("easel_colorMatrixFilter"),!e.cacheID)throw"EaselPlugin warning: for filters to display in EaselJS, you must call the object's cache() method first. "+e;r._matrix=s};window._gsDefine.plugin({propName:"easel",priority:-1,API:2,init:function(e,t){this._target=e;var n,r,i,s;for(n in t)"colorFilter"===n||"tint"===n||"tintAmount"===n||"exposure"===n||"brightness"===n?i||(o(e,t.colorFilter||t,this),i=!0):"saturation"===n||"contrast"===n||"hue"===n||"colorize"===n||"colorizeAmount"===n?s||(m(e,t.colorMatrixFilter||t,this),s=!0):"frame"===n?(this._firstPT=r={_next:this._firstPT,t:e,p:"gotoAndStop",s:e.currentFrame,f:!0,n:"frame",pr:0,type:0,r:!0},r.c="number"==typeof t[n]?t[n]-r.s:"string"==typeof t[n]?parseFloat(t[n].split("=").join("")):0,r._next&&(r._next._prev=r)):null!=e[n]&&(this._firstPT=r={_next:this._firstPT,t:e,p:n,f:"function"==typeof e[n],n:n,pr:0,type:0},r.s=r.f?e[n.indexOf("set")||"function"!=typeof e["get"+n.substr(3)]?n:"get"+n.substr(3)]():parseFloat(e[n]),r.c="number"==typeof t[n]?t[n]-r.s:"string"==typeof t[n]?parseFloat(t[n].split("=").join("")):0,r._next&&(r._next._prev=r));return!0},set:function(e){for(var t,n=this._firstPT,r=1e-6;n;)t=n.c*e+n.s,n.r?t=t+(t>0?.5:-0.5)>>0:r>t&&t>-r&&(t=0),n.f?n.t[n.p](t):n.t[n.p]=t,n=n._next;this._target.cacheID&&this._target.updateCache()}})}),window._gsDefine&&window._gsQueue.pop()();