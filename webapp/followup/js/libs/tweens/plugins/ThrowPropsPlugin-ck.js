/*!
 * VERSION: 0.8.5
 * DATE: 2013-08-16
 * JavaScript (also available in ActionScript 3 and 2)
 * UPDATES AND DOCS AT: http://www.greensock.com
 *
 * @license Copyright (c) 2008-2013, GreenSock. All rights reserved.
 * ThrowPropsPlugin is a Club GreenSock membership benefit; You must have a valid membership to use
 * this code without violating the terms of use. Visit http://www.greensock.com/club/ to sign up or get more details.
 * This work is subject to the software agreement that was issued with your membership.
 * 
 * @author: Jack Doyle, jack@greensock.com
 */(window._gsQueue||(window._gsQueue=[])).push(function(){"use strict";window._gsDefine("plugins.ThrowPropsPlugin",["plugins.TweenPlugin","TweenLite","easing.Ease","utils.VelocityTracker"],function(e,t,n,r){var i=function(t,n){e.call(this,"throwProps");this._overwriteProps.length=0},s=180/Math.PI,o=999999999999999,u={x:1,y:1,z:2,scale:1,scaleX:1,scaleY:1,rotation:1,rotationZ:1,rotationX:2,rotationY:2,skewX:1,skewY:1},a=function(e,t,n,r){var i=t.length,s=0,u=o,a,f;while(--i>-1){a=t[i];f=a-e;f<0&&(f=-f);if(f<u&&a>=r&&a<=n){s=i;u=f}}return t[s]},f=function(e,t,n,r){if(e.end==="auto")return e;n=isNaN(n)?o:n;r=isNaN(r)?-o:r;var i=typeof e.end=="function"?e.end(t):e.end instanceof Array?a(t,e.end,n,r):Number(e.end);i>n?i=n:i<r&&(i=r);return{max:i,min:i}},l=i.calculateChange=function(e,r,i,s){s==null&&(s=.05);var o=r instanceof n?r:r?new n(r):t.defaultEase;return i*s*e/o.getRatio(s)},c=i.calculateDuration=function(e,r,i,s,o){o=o||.05;var u=s instanceof n?s:s?new n(s):t.defaultEase;return Math.abs((r-e)*u.getRatio(o)/i/o)},h=i.calculateTweenDuration=function(e,s,o,u,a){typeof e=="string"&&(e=t.selector(e));if(!e)return 0;o==null&&(o=10);u==null&&(u=.2);a==null&&(a=1);e.length&&(e=e[0]||e);var h=0,p=9999999999,d=s.throwProps||s,v=s.ease instanceof n?s.ease:s.ease?new n(s.ease):t.defaultEase,m=isNaN(d.checkpoint)?.05:Number(d.checkpoint),g=isNaN(d.resistance)?i.defaultResistance:Number(d.resistance),y,b,w,E,S,x,T,N,C;for(y in d)if(y!=="resistance"&&y!=="checkpoint"){b=d[y];if(typeof b!="object"){C=C||r.getByTarget(e);if(C&&C.isTrackingProp(y))b=typeof b=="number"?{velocity:b}:{velocity:C.getVelocity(y)};else{E=Number(b)||0;w=E*g>0?E/g:E/-g}}if(typeof b=="object"){if(b.velocity!==undefined&&typeof b.velocity=="number")E=Number(b.velocity)||0;else{C=C||r.getByTarget(e);E=C&&C.isTrackingProp(y)?C.getVelocity(y):0}S=isNaN(b.resistance)?g:Number(b.resistance);w=E*S>0?E/S:E/-S;x=typeof e[y]=="function"?e[y.indexOf("set")||typeof e["get"+y.substr(3)]!="function"?y:"get"+y.substr(3)]():e[y]||0;T=x+l(E,v,w,m);b.end!==undefined&&(b=f(b,T,b.max,b.min));if(b.max!==undefined&&T>Number(b.max)){N=x>b.max||E>-15&&E<45?u+(o-u)*.1:c(x,b.max,E,v,m);N+a<p&&(p=N+a)}else if(b.min!==undefined&&T<Number(b.min)){N=x<b.min||E>-45&&E<15?u+(o-u)*.1:c(x,b.min,E,v,m);N+a<p&&(p=N+a)}N>h&&(h=N)}w>h&&(h=w)}h>p&&(h=p);return h>o?o:h<u?u:h},p=i.prototype=new e("throwProps"),d,v,m,g;p.constructor=i;i.version="0.8.5";i.API=2;i._autoCSS=!0;i.defaultResistance=100;i.track=function(e,t,n){return r.track(e,t,n)};i.untrack=function(e,t){r.untrack(e,t)};i.isTracking=function(e,t){return r.isTracking(e,t)};i.getVelocity=function(e,t){var n=r.getByTarget(e);return n?n.getVelocity(t):NaN};i._cssRegister=function(){var e=(window.GreenSockGlobals||window).com.greensock.plugins.CSSPlugin;if(!e)return;var t=e._internals,n=t._parseToProxy,o=t._setPluginRatio,a=t.CSSPropTween;t._registerComplexSpecialProp("throwProps",{parser:function(e,t,f,l,c,h){h=new i;var p={},m={},g={},y={},b={},w,E,S,x,T;v={};for(S in t)if(S!=="resistance"){E=t[S];if(typeof E=="object"){if(E.velocity!==undefined&&typeof E.velocity=="number")p[S]=Number(E.velocity)||0;else{T=T||r.getByTarget(e);p[S]=T&&T.isTrackingProp(S)?T.getVelocity(S)*(S.indexOf("rotation")===0?s:1):0}E.end!==undefined&&(y[S]=E.end);E.min!==undefined&&(m[S]=E.min);E.max!==undefined&&(g[S]=E.max);if(E.resistance!==undefined){w=!0;b[S]=E.resistance}}else if(typeof E=="number")p[S]=E;else{T=T||r.getByTarget(e);T&&T.isTrackingProp(S)?p[S]=T.getVelocity(S)*(S.indexOf("rotation")===0?s:1):p[S]=E||0}u[S]&&l._enableTransforms(u[S]===2)}x=n(e,p,l,c,h);d=x.proxy;p=x.end;for(S in d)v[S]={velocity:p[S],min:m[S],max:g[S],end:y[S],resistance:b[S]};t.resistance!=null&&(v.resistance=t.resistance);c=new a(e,"throwProps",0,0,x.pt,2);c.plugin=h;c.setRatio=o;c.data=x;h._onInitTween(d,v,l._tween);return c}})};i.to=function(e,n,r,i,s){n.throwProps||(n={throwProps:n});var o=new t(e,1,n);o.render(0,!0,!0);if(o.vars.css){o.duration(h(d,v,r,i,s));o._delay&&!o.vars.immediateRender?o.invalidate():m._onInitTween(d,g,o);return o}o.kill();return new t(e,h(e,n,r,i,s),n)};p._onInitTween=function(e,t,n){this.target=e;this._props=[];m=this;g=t;var i=n._ease,s=isNaN(t.checkpoint)?.05:Number(t.checkpoint),o=n._duration,u=0,a,c,h,p,d,v,y,b,w;for(a in t)if(a!=="resistance"&&a!=="checkpoint"){c=t[a];if(typeof c=="number")d=Number(c)||0;else if(typeof c=="object"&&!isNaN(c.velocity))d=Number(c.velocity);else{w=w||r.getByTarget(e);if(!w||!w.isTrackingProp(a))throw"ERROR: No velocity was defined in the throwProps tween of "+e+" property: "+a;d=w.getVelocity(a)}v=l(d,i,o,s);b=0;p=typeof e[a]=="function";h=p?e[a.indexOf("set")||typeof e["get"+a.substr(3)]!="function"?a:"get"+a.substr(3)]():e[a];if(typeof c=="object"){y=h+v;c.end!==undefined&&(c=f(c,y,c.max,c.min));c.max!==undefined&&Number(c.max)<y?b=c.max-h-v:c.min!==undefined&&Number(c.min)>y&&(b=c.min-h-v)}this._props[u++]={p:a,s:h,c1:v,c2:b,f:p,r:!1};this._overwriteProps[u]=a}return!0};p._kill=function(t){var n=this._props.length;while(--n>-1)t[this._props[n].p]!=null&&this._props.splice(n,1);return e.prototype._kill.call(this,t)};p._roundProps=function(e,t){var n=this._props,r=n.length;while(--r>-1)if(e[n[r]]||e.throwProps)n[r].r=t};p.setRatio=function(e){var t=this._props.length,n,r;while(--t>-1){n=this._props[t];r=n.s+n.c1*e+n.c2*e*e;n.r&&(r=r+(r>0?.5:-0.5)|0);n.f?this.target[n.p](r):this.target[n.p]=r}};e.activate([i]);return i},!0);window._gsDefine("utils.VelocityTracker",["TweenLite"],function(e){var t,n,r,i,s=/([A-Z])/g,o={},u={x:1,y:1,z:2,scale:1,scaleX:1,scaleY:1,rotation:1,rotationZ:1,rotationX:2,rotationY:2,skewX:1,skewY:1},a=document.defaultView?document.defaultView.getComputedStyle:function(){},f=function(e,t,n){var r=(e._gsTransform||o)[t];if(r||r===0)return r;if(e.style[t])r=e.style[t];else if(n=n||a(e,null)){e=n.getPropertyValue(t.replace(s,"-$1").toLowerCase());r=e||n.length?e:n[t]}else if(e.currentStyle){n=e.currentStyle;r=n[t]}return parseFloat(r)||0},l=e.ticker,c=function(e,t,n){this.p=e;this.f=t;this.v1=this.v2=0;this.t1=this.t2=l.time;this.css=!1;this.type="";this._prev=null;if(n){this._next=n;n._prev=this}},h=function(){var e=t,n=l.time,s,o;if(n-r>=.03){i=r;r=n;while(e){o=e._firstVP;while(o){s=o.css?f(e.target,o.p):o.f?e.target[o.p]():e.target[o.p];if(s!==o.v1||n-o.t1>.15){o.v2=o.v1;o.v1=s;o.t2=o.t1;o.t1=n}o=o._next}e=e._next}}},p=function(e){this._lookup={};this.target=e;this.elem=e.style&&e.nodeType?!0:!1;if(!n){l.addEventListener("tick",h,null,!1,-100);r=i=l.time;n=!0}if(t){this._next=t;t._prev=this}t=this},d=p.getByTarget=function(e){var n=t;while(n){if(n.target===e)return n;n=n._next}},v=p.prototype;v.addProp=function(t,n){if(!this._lookup[t]){var r=this.target,i=typeof r[t]=="function",s=i?this._altProp(t):t,o=this._firstVP;this._firstVP=this._lookup[t]=this._lookup[s]=o=new c(s!==t&&t.indexOf("set")===0?s:t,i,o);o.css=this.elem&&(this.target.style[o.p]!==undefined||u[o.p]);o.css&&u[o.p]&&!r._gsTransform&&e.set(r,{x:"+=0"});o.type=n||o.css&&t.indexOf("rotation")===0?"rad":"";o.v1=o.v2=o.css?f(r,o.p):i?r[o.p]():r[o.p]}};v.removeProp=function(e){var t=this._lookup[e];if(t){t._prev?t._prev._next=t._next:t===this._firstVP&&(this._firstVP=t._next);t._next&&(t._next._prev=t._prev);this._lookup[e]=0;t.f&&(this._lookup[this._altProp(e)]=0)}};v.isTrackingProp=function(e){return this._lookup[e]instanceof c};v.getVelocity=function(e){var t=this._lookup[e],n=this.target,r,i,s;if(!t)throw"The velocity of "+e+" is not being tracked.";r=t.css?f(n,t.p):t.f?n[t.p]():n[t.p];i=r-t.v2;if(t.type==="rad"||t.type==="deg"){s=t.type==="rad"?Math.PI*2:360;i%=s;i!==i%(s/2)&&(i=i<0?i+s:i-s)}return i/(l.time-t.t2)};v._altProp=function(e){var t=e.substr(0,3),n=(t==="get"?"set":t==="set"?"get":t)+e.substr(3);return typeof this.target[n]=="function"?n:e};p.getByTarget=function(e){var n=t;while(n){if(n.target===e)return n;n=n._next}};p.track=function(e,t,n){var r=d(e),i=t.split(","),s=i.length;n=(n||"").split(",");r||(r=new p(e));while(--s>-1)r.addProp(i[s],n[s]||n[0]);return r};p.untrack=function(e,n){var r=d(e),i=(n||"").split(","),s=i.length;if(!r)return;while(--s>-1)r.removeProp(i[s]);if(!r._firstVP||!n){r._prev?r._prev._next=r._next:r===t&&(t=r._next);r._next&&(r._next._prev=r._prev)}};p.isTracking=function(e,t){var n=d(e);return n?!t&&n._firstVP?!0:n.isTrackingProp(t):!1};return p},!0)});window._gsDefine&&window._gsQueue.pop()();